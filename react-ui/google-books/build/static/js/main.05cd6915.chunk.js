(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},88:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),c=n(50),i=n.n(c),o=n(17),r=(n(61),n(20)),l=n(21),h=n(23),d=n(22),b=n(15),u=n(6),j=n(51),m=(n(62),n(1)),g=function(e){var t=e.children;return Object(m.jsx)("ul",{className:"list-group",children:t})};function x(e){var t=e.children;return Object(m.jsx)("li",{className:"list-group-item",children:t})}var v=function(e){var t,n,a,s=e.title,c=e.subtitle,i=e.authors,o=e.link,r=e.description,l=e.image,h=e.Button,d=(n=255,a="...",(t=r)?(null==n&&(n=100),null==a&&(a="..."),t.length>n?t.substring(0,n-a.length)+a:t):t);return Object(m.jsx)(x,{children:Object(m.jsx)("div",{className:"media-snippet",children:Object(m.jsxs)("article",{className:"media",children:[Object(m.jsx)("figure",{className:"media-left",children:Object(m.jsx)("p",{children:Object(m.jsx)("img",{className:"image is-128xauto",src:l,alt:s})})}),Object(m.jsxs)("div",{className:"media-content",children:[Object(m.jsx)("h3",{className:"heading-title",children:s}),c&&Object(m.jsx)("h5",{className:"heading-subtitle",children:c}),Object(m.jsxs)("p",{className:"heading-subtitle",children:["by ",i," (Author)"]}),Object(m.jsx)("p",{className:"p-article",children:d}),Object(m.jsxs)("div",{className:"d-flex flex-row bd-highlight mb-3",children:[Object(m.jsx)("div",{className:"p-2 bd-highlight",children:Object(m.jsx)("a",{href:o,className:"btn view-button heading-subtitle ml-2",target:"_blank",rel:"noopener noreferrer",children:"View"})}),Object(m.jsx)("div",{className:"p-2 bd-highlight",children:Object(m.jsx)(h,{})})]})]})]})})})};n(64);var f=function(e){var t=e.q,n=e.handleInputChange,a=e.handleFormSubmit;return Object(m.jsxs)("form",{className:"form-inline",role:"form",children:[Object(m.jsxs)("div",{className:"form-group mx-sm-3 mb-2",children:[Object(m.jsx)("label",{htmlFor:"Title",className:"sr-only",children:"Search Book Title"}),Object(m.jsx)("input",{className:"form-control heading-subtitle ",id:"Title",type:"text",value:t,placeholder:"Book Title...",name:"q",onChange:n,size:"55",required:!0})]}),Object(m.jsx)("button",{onClick:a,type:"submit",className:"btn btn-lg search-button heading-subtitle",children:"Search"})]})},O=n(24),p=n.n(O),N=n(101),k=n(9);var S={init:function(){N.a({dsn:"https://c060a25040344214b50b022db61e7ef5@sentry.io/1375248"})},log:function(e){k.a(e),console.log(e)}};p.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(S.log(e),b.b.error("An unexpected error occured.")),Promise.reject(e)}));var B={get:p.a.get,post:p.a.post,put:p.a.put,delete:p.a.delete},y=function(e){return B.get("/api/google",{params:{q:"title:"+e}})},w=function(){return B.get("/api//books")},I=function(e){return B.delete("/api/books/"+e)},C=function(e){return B.post("/api/books",e)},q=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={books:[],q:"",message:"Simply search for books via the Google Books API"},e.handleInputChange=function(t){var n=t.target,a=n.name,s=n.value;e.setState(Object(j.a)({},a,s))},e.getBooks=function(){y(e.state.q).then((function(t){return e.setState({books:t.data,currentPage:1})})).catch((function(){b.b.error("Your search did not match any book results."),e.setState({books:[],message:"Your search did not match any book results.",currentPage:1})}))},e.handleFormSubmit=function(t){t.preventDefault(),b.b.info("Searching books... !"),e.getBooks()},e.handleBookSave=function(t){var n=e.state.books.find((function(e){return e.id===t}));C({googleId:n.id,title:n.volumeInfo.title,subtitle:n.volumeInfo.subtitle,link:n.volumeInfo.infoLink,authors:n.volumeInfo.authors,description:n.volumeInfo.description,image:n.volumeInfo.imageLinks.thumbnail}).then((function(){return e.getBooks()}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-10 col-centered",children:Object(m.jsxs)("div",{className:"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center",children:[Object(m.jsx)("div",{className:"order-sm-2 p-2 bd-highlight",children:Object(m.jsx)("img",{className:"image-250",alt:"React Google Books Search"})}),Object(m.jsxs)("div",{className:"order-sm-1 p-2 bd-highlight",children:[Object(m.jsx)("h1",{className:"heading-title mx-sm-3 mb-2",children:"React Google Books Search"}),Object(m.jsx)("h2",{className:"heading-subtitle mx-sm-3 mb-2",children:"Search for and Save Books of Interest."}),Object(m.jsx)(f,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,q:this.state.q})]})]})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-10 col-centered card-content mb-4",children:[Object(m.jsx)("h1",{className:"heading-title mx-sm-3 mb-2 text-center",children:"Results"}),this.state.books.length?Object(m.jsx)(g,{children:this.state.books.map((function(t){return Object(m.jsx)(v,{title:t.volumeInfo.title,subtitle:t.volumeInfo.subtitle,link:t.volumeInfo.infoLink,authors:t.volumeInfo.authors.join(", "),description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,Button:function(){return Object(m.jsx)("button",{onClick:function(){return e.handleBookSave(t.id)},className:"btn save-button  heading-subtitle ml-2",children:"Save"})}},t.id)}))}):Object(m.jsx)("div",{className:"mockup-content",children:Object(m.jsx)("h2",{className:"heading-title text-center",children:this.state.message})})]})})]})}}]),n}(a.Component),F=n(36),G=n.n(F),T=n(54),A=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={books:[]},e.getSavedBooks=function(){w().then((function(t){return e.setState({books:t.data})})).catch((function(e){return console.log(e)}))},e.handleBookDelete=function(){var t=Object(T.a)(G.a.mark((function t(n){var a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.books,t.prev=1,t.next=4,I(n).then((function(t){return e.getSavedBooks()}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),t.t0.response&&404===t.t0.response.status&&b.b.error("This book has been deleted."),e.setState({books:a});case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getSavedBooks()}},{key:"render",value:function(){var e=this,t=this.state.books.length;return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-8 col-centered",children:Object(m.jsxs)("div",{className:"d-flex flex-row bd-highlight mb-3 justify-content-center align-items-center",children:[Object(m.jsx)("div",{className:"p-2 bd-highlight",children:Object(m.jsx)("img",{className:"image-250",alt:"React Google Books Search"})}),Object(m.jsxs)("div",{className:"p-2 bd-highlight",children:[Object(m.jsx)("h1",{className:"heading-title mx-sm-3 mb-2",children:"React Google Books Search"}),Object(m.jsxs)("h2",{className:"heading-subtitle mx-sm-3 mb-2 text-center",children:["Showing ",t," books in the database."]})]})]})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-8 col-centered card-content",children:this.state.books.length?Object(m.jsx)(g,{children:this.state.books.map((function(t){return Object(m.jsx)(v,{title:t.title,subtitle:t.subtitle,link:t.link,authors:t.authors.join(", "),description:t.description,image:t.image,Button:function(){return Object(m.jsx)("button",{onClick:function(){return e.handleBookDelete(t._id)},className:"btn delete-button heading-subtitle ml-2",children:"Delete"})}},t._id)}))}):Object(m.jsx)("div",{className:"mockup-content",children:Object(m.jsx)("h2",{className:"brand-title text-center",children:"No saved books in the database"})})})})]})}}]),n}(a.Component),D=function(){return Object(m.jsx)("h1",{className:"heading-title text-center",children:"404 Page Not Found"})},P=(n(88),function(){return Object(m.jsx)(s.a.Fragment,{children:Object(m.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light",children:[Object(m.jsx)(o.b,{className:"navbar-brand brand-title",to:"#",children:"Google Books Search"}),Object(m.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("span",{className:"navbar-toggler-icon"})}),Object(m.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(m.jsxs)("ul",{className:"navbar-nav",children:[Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link heading-title",to:"/search",children:"Search"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(o.c,{className:"nav-link heading-title",to:"/saved",children:"Saved"})})]})})]})})}),R=(n(93),function(){return Object(m.jsx)("footer",{className:"page-footer",children:Object(m.jsx)("div",{className:"container-fluid text-center",children:Object(m.jsx)("p",{children:"Google Books - Y Waller"})})})}),L=(n(94),function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(b.a,{}),Object(m.jsxs)("section",{className:"hero-is-fullheight",children:[Object(m.jsx)("div",{className:"head-head",children:Object(m.jsx)(P,{})}),Object(m.jsx)("div",{className:"head-body",children:Object(m.jsxs)(u.d,{children:[Object(m.jsx)(u.b,{path:"/search",component:q}),Object(m.jsx)(u.b,{path:"/saved",component:A}),Object(m.jsx)(u.b,{path:"/not-found",component:D}),Object(m.jsx)(u.a,{from:"/",exact:!0,to:"/search"}),Object(m.jsx)(u.a,{to:"/not-found"})]})}),Object(m.jsx)("div",{className:"head-foot",children:Object(m.jsx)(R,{})})]})]})}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(m.jsx)(o.a,{children:Object(m.jsx)(L,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[95,1,2]]]);
//# sourceMappingURL=main.05cd6915.chunk.js.map